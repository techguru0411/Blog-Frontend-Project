@import "../../../../common/stylus/theme.styl";

html
	position relative

body
	#header
		position fixed
		display flex
		justify-content space-between
		padding 0 30px
		width 100%
		top 0
		background-color $default-header-background-color
		border-bottom 1px solid $default-header-border-color
		transition background-color .3s ease-in-out
		z-index 11
		#logo
			display flex
			align-items center
			height $header-height
			color $default-title-color
			font-weight 500
			img
				margin-right 6px
				width $header-inner-height
				height $header-inner-height
			.info
				display flex
				flex-direction column
				justify-content space-around
				.name
					font-size 20px
				.desc
					font-size 12px
					font-weight 100
					color $default-title-hover-color
		#nav
			float right
			height $header-height
			line-height $header-height
			list-style-type none
			> li
				position relative
				display inline-block
			.nav-dropdown-container
				margin-right 10px
				&:hover
					> .nav-dropdown
						display block
				> .nav-dropdown
					top $header-height
					left 0
					li
						position relative
						display block
						height $header-inner-height
						line-height $header-inner-height
						background-color $default-header-background-color
						overflow visible
						&:hover
							> .nav-dropdown
								display block
						> .nav-dropdown
							top -1px
							left 100%
							max-height "calc(100vh - %s)" % $header-height
							overflow-y auto
							> li
								display block
								position relative
								height $header-inner-height
								line-height $header-inner-height
			.nav-dropdown
				position absolute
				display none
				box-sizing border-box
				text-align left
				border-left 1px solid $default-border-color
				border-right 1px solid $default-border-color
				border-bottom 1px solid $default-border-color
				border-top 1px solid $default-border-color
				white-space nowrap
			a.nav-link
				display block
				color $default-link-color
				font-size 17px
				font-weight 300
				padding 0 20px
				text-decoration none
				cursor pointer
				.arrow
					display inline-block
					vertical-align middle
					margin-top -1px
					margin-left 6px
					margin-right -14px
					width 0
					height 0
					border-left 4px solid transparent
					border-right 4px solid transparent
					border-top 5px solid #ccc
				&:hover
					color $default-link-color-hover
				&:hover:not(.current)
					border-bottom none
				&.active-link, &.exact-active-link
					border-bottom none
					color $default-link-color-hover
					&::after
						content ""
						width 0
						height 0
						border-left 5px solid $default-link-color-hover
						border-top 3px solid transparent
						border-bottom 2px solid transparent
						position absolute
						top 50%
						margin-top -4px
						left 8px

body.dark
	#header
		background-color $dark-header-background-color
		border-bottom 1px solid $dark-header-border-color
		#logo
			color $dark-title-color
			.info
				.desc
					color $dark-title-hover-color
		#nav
			.nav-dropdown-container
				> .nav-dropdown
					li
						background-color $dark-header-background-color
			.nav-dropdown
				border 1px solid $dark-header-background-color
			a.nav-link
				color $dark-link-color
				.arrow
					border-top 5px solid #ccc
				&:hover
					color $dark-link-color-hover
				&.active-link, &.exact-active-link
					color $dark-link-color-hover
					&::after
						border-left 5px solid $dark-link-color-hover

// 小屏模式下的导航栏
#mobile-bar
	position fixed
	top 0
	left 0
	width 100%
	height $mobile-header-height
	line-height $mobile-header-height
	background-color #fff
	z-index 11
	display none
	box-shadow 0 0 2px rgba(0, 0, 0, .25)
	.menu-button
		position absolute
		cursor pointer
		width $mobile-header-inner-height
		height $mobile-header-inner-height
		top "calc((%s - %s) / 2)" % ($mobile-header-height $mobile-header-inner-height)
		left 12px
		background url(./../../../assets/menu.png) center center no-repeat
		background-size 24px
	.logo
		position absolute
		width $mobile-header-inner-height
		height $mobile-header-inner-height
		background url(./../../../assets/logo.png) center center no-repeat
		top "calc((%s - %s) / 2)" % ($mobile-header-height $mobile-header-inner-height)
		left 50%
		margin-left -15px
		background-size $mobile-header-inner-height
	.search-button
		position absolute
		cursor pointer
		width $mobile-header-inner-height
		height $mobile-header-inner-height
		top "calc((%s - %s) / 2)" % ($mobile-header-height $mobile-header-inner-height)
		right 12px
		background url(./../../../assets/search.png) center center no-repeat
		background-size 24px


body
	@media screen and (max-width $responsive-lg)
		-webkit-text-size-adjust none
		font-size 14px
		#header
			display none
		#mobile-bar
			display block
